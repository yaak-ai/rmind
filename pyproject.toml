[tool.poetry]
name = "cargpt"
version = "0.1.0"
description = ""
authors = ["Evgenii Gorchakov <evgenii@yaak.ai>"]
readme = "README.md"

[tool.poetry.dependencies]
python = ">=3.10,<3.11"
pytorch-lightning = "^1.9.0"
einops = "^0.6.0"
hydra-core = "^1.3.0"
loguru = "^0.6.0"
deephouse = {git = "git@github.com:yaak-ai/deephouse.git"}
yaak-datasets = {git = "git@github.com:yaak-ai/yaak-datasets.git", rev = "v0.10.0"}
jaxtyping = "*"
beartype = "*"

[build-system]
requires = ["poetry-core>=1.5.0"]
build-backend = "poetry.core.masonry.api"

[tool.poetry.group.train]
optional = true

[tool.poetry.group.train.dependencies]
wandb = "*"
omegaconf = "^2.3.0"
torchinfo = "^1.7.2"

[tool.poetry.group.lint]
optional = true

[tool.poetry.group.lint.dependencies]
black = "*"
isort = "*"
mypy = "*"
mypy-extensions = "*"
ruff = "*"

[tool.poetry.group.dev]
optional = true

[tool.poetry.group.dev.dependencies]
ipdb = "*"
ipython = "*"
pudb = "*"
pyls-isort = "*"
pylsp-mypy = "*"
pylsp-rope = "*"
pytest-pudb = "*"
python-lsp-black = "*"
python-lsp-server = "*"
python-lsp-ruff = "*"
jupyterlab = "*"
jupyterlab-vim = "*"
torchshow = "*"
netron = "*"
ipython-autoimport = "*"
pyfzf = "*"

[tool.black]
line-length = 88

[tool.isort]
profile = "black"
atomic = true
line_length = 88
skip_gitignore = true

[tool.mypy]
warn_unused_configs = true
ignore_missing_imports = true
exclude = [
  "wandb/.*"
]

[tool.ruff]
line-length = 88
fix = true
ignore = ["F722"]
